# クラス定義

本システムで ID Manager に定義されているクラスについて説明します。

## LDAP汎用オブジェクト(LdapGenericObject)
クラスのキー属性はdn です。
このクラスの属性は以下のとおりです。
### DN(dn)
DN(dn) はLDAPのディレクトリーツリー内での位置を示す識別子です。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:o:（大文字小文字無視）|
| 最大長|1024|
| 最小長|1|
### オブジェクトクラス(objectClass)
オブジェクトクラス(objectClass) はLDAPのオブジェクトクラスです。
| データ型|stringの配列|
|----|----------------|
|必須|:x:|
|一意|:x:|
| 最大長|1024|
| 最小長|1|
### DC(dc)
DC(dc) はドメインコンポーネントです。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
| 最大長|256|
| 最小長|1|
### CN(cn)
CN(cn) は一般名称です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
| 最大長|256|
| 最小長|1|
### SN(sn)
SN(sn) は姓です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
| 最大長|256|
| 最小長|1|
### OU(ou)
OU(ou) は組織単位です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
| 最大長|256|
| 最小長|1|
### パスワード(userPassword)
パスワード(userPassword) はユーザのパスワードです。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### UID(uid)
UID(uid) はユーザIDです。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
| 最大長|256|
| 最小長|1|
### オブジェクトレベル(level)
| データ型|number|
|----|----------------|
|必須|:x:|
|一意|:x:|
## 連携システムオブジェクト(linkageSystem)
クラスのキー属性はsystemId です。
このクラスの属性は以下のとおりです。
### システムID(systemId)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### 鍵(key)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
## SAML属性定義(samlattr)
このクラスは内包オブジェクトです。
このクラスの属性は以下のとおりです。
### 属性定義ID(attr_id)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### 属性(attr)
属性(attr) はE/U管理者画面には「連携項目名」として表示です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
## SAML NameID定義(samlnameid)
このクラスは内包オブジェクトです。
このクラスの属性は以下のとおりです。
### NameIDフォーマット(nameid_format)
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:x:|
### SAML属性ID(attr_id)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
## SAML SP(samlsp)
このクラスは内包オブジェクトです。
このクラスの属性は以下のとおりです。
### 公開名(published_name)
公開名(published_name) はSPのシステムを一位に特定するための名称です。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:x:|
### SP メタデータ(metadata)
SP メタデータ(metadata) はSAML  SP のメタデータです。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:x:|
### サービスURL(service_url)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### 配信対象SAML属性(saml_attrs_for_delivery)
| データ型|stringの配列|
|----|----------------|
|必須|:x:|
|一意|:x:|
### SAMLアサーションを暗号化する(encryptAssertions)
SAMLアサーションを暗号化する(encryptAssertions) はIdPからSPに送るSAMLアサーションを暗号化する。 Office 365の場合は false を設定する。です。
| データ型|boolean|
|----|----------------|
|必須|:x:|
|一意|:x:|
### 応答に署名する(signResponses)
応答に署名する(signResponses) はIdPからSPに送る応答に署名する。Office365の場合は  false を指定する。です。
| データ型|boolean|
|----|----------------|
|必須|:x:|
|一意|:x:|
### SAMLアサーションに署名する(signAssertions)
SAMLアサーションに署名する(signAssertions) はIdPからSPに送るSAMLアサーションに署名する。Office365の場合は true を指定する。です。
| データ型|boolean|
|----|----------------|
|必須|:x:|
|一意|:x:|
## テナント(tenant)
クラスのキー属性はtenantid です。
このクラスの属性は以下のとおりです。
### テナントID(tenantid)
テナントID(tenantid) はIDaaSのテナントのIDです。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:o:|
### テナント表示名(displayName)
テナント表示名(displayName) はテナントの表示名です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:o:|
### AccessManager ID(amid)
AccessManager ID(amid) はテナントを収容する  Access Manager の IDです。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:x:|
### 認証方式(authMethod)
認証方式(authMethod) は二要素認証を使用するかパスワードのみの認証とするかを選択するです。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:x:|
### セッション最長時間(lifetime)
セッション最長時間(lifetime) はセッションの最大時間を時間時間を単位として指定する。例えば 8 を指定すると、8時間を経過すると通信がある状態でも一旦ログアウトする。です。
| データ型|number|
|----|----------------|
|必須|:o:|
|一意|:x:|
### 無通信タイムアウト(inactivity)
無通信タイムアウト(inactivity) は時間通信がない状態で指定した時間が経過するとログアウトする。たとえば、8を指定すると8時間ログインがない状態が持続するとログアウトする。SPへのアクセスでは IdP への通信は発生しないことを考慮して設定する必要がある。です。
| データ型|number|
|----|----------------|
|必須|:o:|
|一意|:x:|
### ログイン状態維持(usePeriodic)
ログイン状態維持(usePeriodic) はログイン状態を維持する機能を使用するかどうかを指定する。スマホによるOTP二要素認証を使用する場合など、ログイン手順が利用者の負担となる場合にこれをチェックすることで毎日スマホからOTPを転記する負担を軽減できる。です。
| データ型|boolean|
|----|----------------|
|必須|:x:|
|一意|:x:|
### ログイン状態維持日数(daysForExpire)
ログイン状態維持日数(daysForExpire) はログイン状態を維持する日数を指定する。たとえば、7を指定すると、ブラウザを無通信タイムアウトでセッションが切れても一週間ログイン状態が維持される。です。
| データ型|number|
|----|----------------|
|必須|:x:|
|一意|:x:|
### SAML SP リスト(saml_sps)
SAML SP リスト(saml_sps) はSAML SP のリストです。
| データ型|object|
|----|----------------|
|必須|:x:|
|一意|:x:|
### SAML属性定義リスト(saml_attrs)
SAML属性定義リスト(saml_attrs) はSAML属性定義のリストです。
| データ型|object|
|----|----------------|
|必須|:x:|
|一意|:x:|
### SAML NameIDリスト(saml_nameids)
SAML NameIDリスト(saml_nameids) はSAML NameIDのリストです。
| データ型|object|
|----|----------------|
|必須|:x:|
|一意|:x:|
## 利用者(user)
クラスのキー属性はuid です。
このクラスでは対応する LDAP スキーマが自動的に設定されます。
LDAPスキーマの親クラスは person です。
このクラスの属性は以下のとおりです。
### テナントID(tenantid)
テナントID(tenantid) は IDaaS のテナントのIDです。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### ユーザID(uid)
ユーザID(uid) はユーザを識別する一意の IDです。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:o:（大文字小文字無視）|
| 最大長|64|
| 最小長|1|
### 氏名(cn)
氏名(cn) はユーザの氏名です。
| データ型|string|
|----|----------------|
|必須|:o:|
|一意|:x:|
| 最大長|256|
| 最小長|1|
### ID管理役割(idmRole)
ID管理役割(idmRole) はユーザがID管理業務上割り当てられた役割です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### パスワード(userPassword)
パスワード(userPassword) は	ユーザのパスワードです。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### DN(dn)
DN(dn) はLDAPのディレクトリーツリー内での位置を示す識別子です。
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### アカウント無効化(accountLock)
アカウント無効化(accountLock) はtrue の場合アカウントを無効化するです。
| データ型|boolean|
|----|----------------|
|必須|:x:|
|一意|:x:|
### パスワード変更日時(passwdChangedDatetime)
パスワード変更日時(passwdChangedDatetime) は最後にパスワード変更サーブレットからパスワードを変更した日時です。
| データ型|datetime|
|----|----------------|
|必須|:x:|
|一意|:x:|
### パスワード有効期限(expireDate)
パスワード有効期限(expireDate) はこの日をこえてログインするとパスワード変更が強要されるです。
| データ型|date|
|----|----------------|
|必須|:x:|
|一意|:x:|
### パスワード変更要求フラグ(toBeChanged)
パスワード変更要求フラグ(toBeChanged) はパスワードが変更されるべき状態であることを示すフラグです。
| データ型|boolean|
|----|----------------|
|必須|:x:|
|一意|:x:|
### データ1(data1)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### データ2(data2)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### データ3(data3)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### データ4(data4)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
### データ5(data5)
| データ型|string|
|----|----------------|
|必須|:x:|
|一意|:x:|
